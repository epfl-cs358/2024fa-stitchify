{"ast":null,"code":"import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PatternSelection=()=>{const[sending,setSending]=useState(false);const[lastSentPattern,setLastSentPattern]=useState(null);const patterns=[{name:\"Pattern 1\",description:\"Knitting a basic pattern under the user's supervision.\",patternString:\"knits 20\"},{name:\"Pattern 2\",description:\"Knitting a basic pattern without the user's supervision.\",patternString:\"knit 20\"},{name:\"Pattern 3\",description:\"Knitting a fancy pattern under the user's supervision.\",patternString:\"knitp 20\"}];const sendToWemos=async patternString=>{console.log('Attempting to send pattern:',patternString);setSending(true);try{const apiUrl=\"http://172.21.69.170/send\";console.log('Sending to URL:',apiUrl);const response=await fetch(apiUrl,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({item:patternString})});if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}setLastSentPattern(patternString);console.log('Pattern sent successfully:',patternString);}catch(error){console.error('Error sending pattern:',error);}finally{setSending(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Select a Pattern to Send\"}),lastSentPattern&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4\",children:[\"Last sent pattern: \",lastSentPattern]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:patterns.map(pattern=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2\",children:pattern.name}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-2\",children:pattern.description}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-400\",onClick:()=>sendToWemos(pattern.patternString),disabled:sending,children:sending?\"Sending...\":\"Send Pattern\"})]},pattern.name))})]});};export default PatternSelection;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","PatternSelection","sending","setSending","lastSentPattern","setLastSentPattern","patterns","name","description","patternString","sendToWemos","console","log","apiUrl","response","fetch","method","headers","body","JSON","stringify","item","ok","Error","concat","status","error","className","children","map","pattern","onClick","disabled"],"sources":["/Users/bogdancirje/Desktop/webapp/src/pages/PatternSelection.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nconst PatternSelection = () => {\n  const [sending, setSending] = useState(false);\n  const [lastSentPattern, setLastSentPattern] = useState(null);\n\n  const patterns = [\n    {\n      name: \"Pattern 1\",\n      description: \"Knitting a basic pattern under the user's supervision.\",\n      patternString: \"knits 20\",\n    },\n    {\n      name: \"Pattern 2\",\n      description: \"Knitting a basic pattern without the user's supervision.\",\n      patternString: \"knit 20\",\n    },\n    {\n      name: \"Pattern 3\",\n      description: \"Knitting a fancy pattern under the user's supervision.\",\n      patternString: \"knitp 20\",\n    },\n  ];\n\n  const sendToWemos = async (patternString) => {\n    console.log('Attempting to send pattern:', patternString);\n    setSending(true);\n    try {\n      const apiUrl = `http://172.21.69.170/send`;\n      console.log('Sending to URL:', apiUrl);\n      \n      const response = await fetch(apiUrl, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ item: patternString }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      setLastSentPattern(patternString);\n      console.log('Pattern sent successfully:', patternString);\n    } catch (error) {\n      console.error('Error sending pattern:', error);\n    } finally {\n      setSending(false);\n    }\n  };\n\n  return (\n    <div className=\"p-4\">\n      <h2 className=\"text-2xl font-bold mb-4\">Select a Pattern to Send</h2>\n      \n      {lastSentPattern && (\n        <div className=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4\">\n          Last sent pattern: {lastSentPattern}\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {patterns.map((pattern) => (\n          <div key={pattern.name} className=\"p-4 border rounded\">\n            <h3 className=\"text-xl font-bold mb-2\">{pattern.name}</h3>\n            <p className=\"mb-2\">{pattern.description}</p>\n            <button\n              className=\"bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-400\"\n              onClick={() => sendToWemos(pattern.patternString)}\n              disabled={sending}\n            >\n              {sending ? \"Sending...\" : \"Send Pattern\"}\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default PatternSelection;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}